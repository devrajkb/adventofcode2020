#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <ctype.h>
/*
--- Day 11: Seating System ---

Your plane lands with plenty of time to spare. The final leg of your journey is a ferry that goes directly to the tropical island where you can finally start your vacation. As you reach the waiting area to board the ferry, you realize you're so early, nobody else has even arrived yet!

By modeling the process people use to choose (or abandon) their seat in the waiting area, you're pretty sure you can predict the best place to sit. You make a quick map of the seat layout (your puzzle input).

The seat layout fits neatly on a grid. Each position is either floor (.), an empty seat (L), or an occupied seat (#). For example, the initial seat layout might look like this:

L.LL.LL.LL
LLLLLLL.LL
L.L.L..L..
LLLL.LL.LL
L.LL.LL.LL
L.LLLLL.LL
..L.L.....
LLLLLLLLLL
L.LLLLLL.L
L.LLLLL.LL

Now, you just need to model the people who will be arriving shortly. Fortunately, people are entirely predictable and always follow a simple set of rules. All decisions are based on the number of occupied seats adjacent to a given seat (one of the eight positions immediately up, down, left, right, or diagonal from the seat). The following rules are applied to every seat simultaneously:

    If a seat is empty (L) and there are no occupied seats adjacent to it, the seat becomes occupied.
    If a seat is occupied (#) and four or more seats adjacent to it are also occupied, the seat becomes empty.
    Otherwise, the seat's state does not change.

Floor (.) never changes; seats don't move, and nobody sits on the floor.

After one round of these rules, every seat in the example layout becomes occupied:

#.##.##.##
#######.##
#.#.#..#..
####.##.##
#.##.##.##
#.#####.##
..#.#.....
##########
#.######.#
#.#####.##

After a second round, the seats with four or more occupied adjacent seats become empty again:

#.LL.L#.##
#LLLLLL.L#
L.L.L..L..
#LLL.LL.L#
#.LL.LL.LL
#.LLLL#.##
..L.L.....
#LLLLLLLL#
#.LLLLLL.L
#.#LLLL.##

This process continues for three more rounds:

#.##.L#.##
#L###LL.L#
L.#.#..#..
#L##.##.L#
#.##.LL.LL
#.###L#.##
..#.#.....
#L######L#
#.LL###L.L
#.#L###.##

#.#L.L#.##
#LLL#LL.L#
L.L.L..#..
#LLL.##.L#
#.LL.LL.LL
#.LL#L#.##
..L.L.....
#L#LLLL#L#
#.LLLLLL.L
#.#L#L#.##

#.#L.L#.##
#LLL#LL.L#
L.#.L..#..
#L##.##.L#
#.#L.LL.LL
#.#L#L#.##
..L.L.....
#L#L##L#L#
#.LLLLLL.L
#.#L#L#.##

At this point, something interesting happens: the chaos stabilizes and further applications of these rules cause no seats to change state! Once people stop moving around, you count 37 occupied seats.

Simulate your seating area by applying the seating rules repeatedly until no seats change state. How many seats end up occupied?

*/
#define TEST_R 10
#define TEST_C 10
char test[TEST_R][TEST_C] = \
{{'L','.','L','L','.','L','L','.','L','L',},
{'L','L','L','L','L','L','L','.','L','L',},
{'L','.','L','.','L','.','.','L','.','.',},
{'L','L','L','L','.','L','L','.','L','L',},
{'L','.','L','L','.','L','L','.','L','L',},
{'L','.','L','L','L','L','L','.','L','L',},
{'.','.','L','.','L','.','.','.','.','.',},
{'L','L','L','L','L','L','L','L','L','L',},
{'L','.','L','L','L','L','L','L','.','L',},
{'L','.','L','L','L','L','L','.','L','L',},};

#define SAMPLE_R 93
#define SAMPLE_C 98

char sample[SAMPLE_R][SAMPLE_C] = \
{{'L','L','L','L','L','L','L','L','L','.','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','.','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','.','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','.','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','.','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','.','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','.','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','.','.','L','L','L','L','.','L','.','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','.','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','.','L','.','L','L','L','L','.','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'.','.','.','.','.','.','L','.','L','.','L','.','.','.','.','L','L','.','L','.','L','.','.','L','.','L','.','.','L','L','.','.','.','L','.','.','.','.','.','.','L','L','.','.','L','.','.','.','.','.','L','.','L','L','.','L','L','L','L','.','L','L','.','L','.','.','L','L','.','.','.','.','.','.','.','.','L','.','.','L','L','.','L','L','L','.','L','.','.','L','.','L','L','.','L','.','.','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','.','L','L','.','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','.','L','L','L','L','L','.','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','.','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','.','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','.','.','.','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L',},
{'L','L','L','L','L','L','L','L','.','.','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','.','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','.','.','L','.','.','.','.','.','L','.','.','L','.','L','.','.','.','L','L','.','.','.','.','.','.','.','.','.','.','.','L','L','L','.','L','.','L','.','.','L','.','L','.','.','.','.','.','L','L','.','.','.','.','L','L','.','.','.','.','L','.','.','.','L','.','.','.','L','.','.','L','L','.','L','.','.','.','L','L','.','L','L','.','L','L','L','.','L','.','L','.','L','L','.','L','.',},
{'L','L','L','L','L','L','L','.','L','.','L','L','L','L','L','L','.','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','.','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','.','L','L','L','L','L','L','L',},
{'.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','.','L','L','L','.','L','L','L','L','L','.','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','.','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','.','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','.','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','.','L','L','L','.','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','.','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'.','L','.','.','L','.','.','L','.','.','.','.','.','.','.','.','.','.','L','.','.','.','L','.','L','L','.','.','L','.','.','.','L','L','.','.','.','.','L','L','.','.','L','L','.','.','L','.','.','.','L','.','L','L','.','L','.','L','.','.','L','L','L','L','.','.','L','.','L','.','.','.','.','L','.','.','.','.','.','.','.','L','L','.','.','.','.','.','.','.','.','L','.','L','.','.','L','.',},
{'L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','.','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','.','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','.','L','L','.','L','L','.','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','.','L','.','L','L','L','.','.','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','.','L','L','L','L','.','L','L','L','L','L','.','.','L','L','L','L','.','.','L','L','L','L','.','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','.','L','L','.','.','.','L','.','.','L','.','.','L','.','.','.','.','.','L','.','.','.','L','.','.','L','L','.','.','.','L','.','.','L','L','.','L','.','.','.','.','.','L','L','.','L','L','.','L','.','.','.','L','L','.','L','L','.','.','.','L','.','.','.','.','L','L','L','.','L','.','.','L','L','.','L','.','L','.','L','L','.','.','L','.','.','L','L','.','L','.','L','.','L','.','.','L',},
{'L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','.','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','.','L','L','L','L','L','.','L','L','L','L','.','L','L','.','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','.','L','L','L','.','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','.','L','L','L','.','L','L','.','.','L','.','L','.','L','L','L','.','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','.','.','.','L','L','L','.','L','.','.','.','.','.','.','L','L','.','.','.','.','L','.','.','.','.','.','.','.','L','.','.','L','.','L','L','L','.','.','L','L','.','L','L','.','L','.','.','.','.','.','L','L','.','L','L','.','L','.','.','.','.','L','.','L','.','.','.','.','L','L','.','.','.','.','L','.','.','.','.','L','L','.','.','.','L','.','L','.','.','.','.','.','L','.','.','.','.',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','.','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','.','L','L','L','L','L','L','L','L','L','.','.','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','.','L','.','L','.','L','L','L','L','L','L','L','.','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'.','.','.','.','L','.','L','.','.','L','.','L','.','.','.','L','.','.','.','.','L','.','.','L','.','.','.','L','.','L','L','L','.','.','.','L','.','.','L','L','.','L','.','.','L','.','L','L','.','L','.','.','.','.','L','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','L','.','.','.','L','L','.','L','L','.','.','.','.','.','.','L','.','.','.','L','.','.','.','L','L','.',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','.','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','.','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'.','.','.','.','.','L','.','L','L','L','L','.','L','.','.','.','.','.','.','.','.','.','L','L','.','L','.','.','L','.','.','.','L','L','.','.','L','L','L','.','.','L','.','.','.','.','.','.','L','L','L','.','.','.','.','.','L','.','.','.','.','.','.','.','L','.','L','L','.','L','.','L','.','.','.','.','.','.','.','.','L','.','.','.','L','L','L','L','L','L','.','L','.','.','L','L','L','.',},
{'L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','.','L','.','L','L','L','L','L','L','L','.','L','L','L','.','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','.','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','.','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','.','L','L','L','L',},
{'L','L','L','L','.','.','.','.','.','L','.','L','.','.','.','L','.','.','.','.','.','L','.','.','L','.','L','.','.','L','.','.','.','.','.','.','L','L','.','.','L','.','.','.','L','L','.','.','.','L','.','L','L','L','.','L','.','L','.','.','L','.','.','.','.','L','.','.','.','.','.','.','L','L','.','L','L','.','L','.','.','L','.','L','.','.','.','.','L','.','.','.','L','L','.','.','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L',},
{'L','L','L','L','L','L','L','L','L','.','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','.','L','L','L','.','.','L','L','L','L','L','L','L','L','L','L','L','.','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','.','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','.','L','.','.','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','.','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'.','.','L','L','.','L','L','.','.','.','L','.','.','.','.','L','L','L','L','L','.','.','.','.','.','L','.','L','.','.','L','L','.','L','.','.','.','L','L','L','L','.','.','.','.','.','.','.','.','.','.','.','.','.','L','.','.','L','.','L','L','L','.','.','.','.','.','.','.','.','.','.','L','.','L','.','.','.','L','L','.','.','L','L','.','.','.','.','.','L','L','.','.','.','.','.','.','.',},
{'L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','.','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','.','L','L','L','L','L','.','L','L','L','.','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','.','L','L','.','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','.','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','.','L','L','L','L','L','L','L','L','L','L',},
{'.','.','L','L','L','L','.','L','L','L','.','.','.','L','L','L','L','L','.','.','.','.','.','.','.','.','.','.','L','.','.','.','L','.','.','.','.','.','.','L','.','.','L','L','.','.','.','.','.','L','.','.','L','.','.','L','.','.','L','.','L','.','.','L','.','.','L','.','L','.','.','L','.','.','.','.','.','.','.','L','.','.','L','.','.','.','.','L','L','.','L','.','L','.','L','.','L','.',},
{'L','L','L','L','L','L','.','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','.','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','.','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','.','.','L','L','L','L','.','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','.','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','.','.','L','L','L','L','.','L','L','L','.','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','.','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','.','.','L','L','L','L','L','L','L','L','L',},
{'L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L',},
{'L','L','L','L','L','L','L','.','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','.','L','L','L','L','L','L','L','L','L','L','.','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'.','L','L','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','L','.','.','L','.','L','.','L','L','.','.','.','L','.','L','L','.','.','.','.','.','L','L','.','.','L','.','L','L','.','L','.','L','.','.','.','L','.','.','.','.','.','.','.','L','.','.','L','.','L','L','.','.','L','.','L','.','.','.','L','L','.','.','.','L','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','.','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','.','L','L','L','L','L','L','L','L','L','L','L','.','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','.','L','L','L','.','L','L','L','L','L','L','.','L','L','L','.','L','L','L','L','.','L','.','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','.','L','L','L','.','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L',},
{'L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','.','L','L','.','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},
{'L','.','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','L','L','L','L','.','L','L','L','L','L','L','.','.','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','.','L','L','L','L','L','L','L','L','L','L',},};

int adjacent_seat_empty(char *data, int index_row, int index_col, int num_rows, int num_cols, int part2)
{
	
    if(part2) {
		
		if((index_row>0) && (index_row < num_rows) && (index_col > 0) &&(index_col < num_cols)) {
			if((data[index_row*num_cols + index_col - 1] == '.')  &&  (data[index_row*num_cols + index_col +1] == '.') && 
				(data[(index_row - 1)*num_cols + index_col - 1] == '.')  && (data[(index_row - 1)*num_cols + index_col ] == '.') &&  (data[(index_row - 1)*num_cols + index_col +1] == '.') && 
				(data[(index_row + 1)*num_cols + index_col - 1] == '.')  && (data[(index_row + 1)*num_cols + index_col ] == '.') &&  (data[(index_row + 1)*num_cols + index_col +1] == '.') ) {
				return 1;
			}
		}
	
		
		int found_occ = 0;
		int looked_dir = 0; 
		int looked = 0;
		// -ve x-axis
		for(int i= index_col - 1; i >=0; i--) {
			looked=1;
			if (data[index_row*num_cols + i] =='#' ) {
				found_occ += 1;
				break;
			}
			else if (data[index_row*num_cols + i] =='L' ) {
				break;
			}
		}
		
		if (looked) {looked_dir++;}
		looked = 0;
		//+ve x-axis
		for(int i= index_col +1; i < num_cols; i++) {
			looked=1;
			if (data[index_row*num_cols + i] =='#' ) {
				found_occ += 1;
				break;
			}
			else if (data[index_row*num_cols + i] =='L' ) {
				break;
			}
		}
		
		if (looked) {looked_dir++;}
		looked = 0;
		// +ve y-axis`
		for(int i= index_row - 1; i >=0; i--) {
			looked=1;
			if (data[i*num_cols +index_col] =='#' ) {
				found_occ += 1;
				break;
			}
			else if (data[i*num_cols +index_col]=='L' ) {
				break;
			}
		}
		
		if (looked) {looked_dir++;}
		looked = 0;
		// -ve y-axis
		for(int i= index_row +1; i < num_rows; i++) {
			looked=1;
			if (data[i*num_cols +index_col] =='#' ) {
				found_occ += 1;
				break;
			}
			else if (data[i*num_cols +index_col]=='L' ) {
				break;
			}
		}
		if (looked) {looked_dir++;}


///     +ve y-axis, -ve x-axis
        looked = 0;
		for(int i = 1 ; i < num_rows ; i++) {
			    if (((index_row - i) >= 0) && (index_col - i) >=0) {
					looked=1;
					if (data[(index_row -i)*num_cols + index_col - i] =='#' ) {
						found_occ += 1;
						break;
					}
					else if (data[(index_row -i)*num_cols + index_col - i] =='L' ) {
						break;
					}
				}
				else{ break;}
		}
		if (looked) {looked_dir++;}

		
		// +ve y-axis +ve x-axis
		 looked = 0;
		for(int i = 1 ; i < num_rows ; i++) {
			    if (((index_row - i) >= 0) && (index_col + i) < num_cols) {
					looked=1;
					if (data[(index_row -i)*num_cols + index_col +i] =='#' ) {
						found_occ += 1;
						break;
					}
					else if (data[(index_row -i)*num_cols + index_col +i]  =='L' ) {
						break;
					}
				}
				else{ break;}
		}
		if (looked) {looked_dir++;}

		
		// -ve y-axis -ve x-axis
		 looked = 0;
		for(int i = 1 ; i < num_rows ; i++) {
			    if (((index_row + i) < num_rows) && (index_col - i) >=0) {
					looked=1;
					if (data[(index_row +i)*num_cols + index_col -i] =='#' ) {
						found_occ += 1;
						break;
					}
					else if (data[(index_row +i)*num_cols + index_col -i]   =='L' ) {
						break;
					}
				}
				else{ break;}
		}
		if (looked) {looked_dir++;}

		
		// -ve y-axis +ve x-axis
		 looked = 0;
		for(int i = 1 ; i < num_rows ; i++) {
			    if (((index_row + i) < num_rows) && (index_col + i) < num_cols) {
					looked=1;
					if (data[(index_row +i)*num_cols + index_col +i] =='#' ) {
						found_occ += 1;
						break;
					}
					else if (data[(index_row +i)*num_cols + index_col +i]  =='L' ) {
						break;
					}
				}
				else{ break;}
		}
		if (looked) {looked_dir++;}
		
		if (found_occ > 0) {
			return 0;
		}
		else {
			return 1;
		}
	}
	

	if(index_row == 0) {
		if(index_col == 0) {
			 if((data[1] != '#')  && (data[num_cols] != '#') &&  (data[num_cols + 1] != '#')) {
				return 1;
			}
		}
		else if (index_col == num_cols - 1) {
			if((data[index_col - 1] != '#')  && (data[num_cols + index_col -1] != '#') &&  (data[num_cols + index_col] != '#')) {
				return 1;
			}
		}
		else if((data[index_col - 1] != '#')  &&  (data[index_col +1] != '#') && 
					(data[num_cols+ index_col - 1] != '#')  && (data[num_cols + index_col] != '#') &&  (data[num_cols+ index_col +1] != '#')) {
				return 1;
		}
	}
	else if(index_row == num_rows - 1) {
		if(index_col == 0) {
			 if( (data[index_row*num_cols + 1] != '#')  && (data[index_row*num_cols - num_cols] != '#') &&  (data[index_row*num_cols - num_cols + 1] != '#')) {
				return 1;
			}
		}
		else if (index_col == num_cols - 1) {
			if((data[index_row*num_cols +index_col -1] != '#')  && (data[index_row*num_cols  - num_cols -1] != '#') &&  (data[index_row*num_cols  - num_cols] != '#')) {
				return 1;
			}
		}
		else if((data[index_row*num_cols + index_col - 1] != '#') && (data[index_row*num_cols+ index_col +1] != '#') && 
					(data[(index_row - 1)*num_cols+ index_col - 1] != '#')  && (data[(index_row - 1)*num_cols + index_col] != '#') &&  (data[(index_row - 1)*num_cols+ index_col +1] != '#')) {
				return 1;
		}
	}
	else if (index_col == 0) {
			 if((data[index_row*num_cols + index_col  + 1] != '#') && 
				(data[(index_row - 1)*num_cols+ index_col ] != '#') && (data[(index_row - 1)*num_cols+ index_col  + 1] != '#') && 
				(data[(index_row + 1)*num_cols+ index_col ] != '#') && (data[(index_row + 1)*num_cols+ index_col + 1] != '#')) {
				 return 1;
			 } 
	}
	else if (index_col == num_cols - 1) {
			 if((data[index_row*num_cols + index_col  - 1] != '#')  && 
				 (data[(index_row - 1)*num_cols+ index_col  - 1] != '#') && (data[(index_row - 1)*num_cols+ index_col ] != '#') && 
				 (data[(index_row + 1)*num_cols+ index_col  - 1] != '#') && (data[(index_row + 1)*num_cols+ index_col] != '#')) {
					 return 1;
			} 
	}
	else if((data[index_row*num_cols + index_col - 1] != '#')  &&  (data[index_row*num_cols + index_col +1] != '#') && 
				(data[(index_row - 1)*num_cols + index_col - 1] != '#')  && (data[(index_row - 1)*num_cols + index_col ] != '#') &&  (data[(index_row - 1)*num_cols + index_col +1] != '#') && 
				(data[(index_row + 1)*num_cols + index_col - 1] != '#')  && (data[(index_row + 1)*num_cols + index_col ] != '#') &&  (data[(index_row + 1)*num_cols + index_col +1] != '#') ) {
				return 1;
		}
	 return 0;

}

int adjacent_seat_more_nonempty(char *data, int index_row, int index_col, int num_rows, int num_cols, int occ_th)
{
	if (occ_th ==4) {
		int number_seats_occ = 0;
		if(index_row == 0) {
			if(index_col == 0) {
				 //if((data[0] == '#') ) {number_seats_occ++;}  
				 if((data[1] == '#'))  {number_seats_occ++;} 
				 if((data[num_cols] == '#')) {number_seats_occ++;}  
				 if((data[num_cols + 1] == '#'))  {number_seats_occ++;} 
			}
			else if (index_col == num_cols - 1) {
				 if((data[index_col - 1] == '#') ) {number_seats_occ++;}  
				 //if((data[index_col] == '#'))  {number_seats_occ++;} 
				 if((data[num_cols + index_col -1] == '#')) {number_seats_occ++;}  
				 if((data[num_cols + index_col ] == '#'))  {number_seats_occ++;} 
			}
			else {
				 if((data[index_col - 1] == '#') ) {number_seats_occ++;}  
				 //if((data[index_col] == '#'))  {number_seats_occ++;} 
				 if((data[index_col + 1] == '#'))  {number_seats_occ++;} 
				 if((data[num_cols + index_col -1] == '#')) {number_seats_occ++;}  
				 if((data[num_cols + index_col ] == '#'))  {number_seats_occ++;} 
				 if((data[num_cols+ index_col +1] == '#'))  {number_seats_occ++;} 
			}
		}
		else if(index_row == num_rows - 1) {
			if(index_col == 0) {
				 //if((data[index_row*num_cols + 0] == '#') ) {number_seats_occ++;}  
				 if((data[index_row*num_cols + 1] == '#'))  {number_seats_occ++;} 
				 if((data[index_row*num_cols - num_cols] == '#')) {number_seats_occ++;}  
				 if((data[index_row*num_cols - num_cols + 1] == '#'))  {number_seats_occ++;} 
			}
			else if (index_col == num_cols - 1) {
				 if((data[index_row*num_cols +index_col  - 1] == '#') ) {number_seats_occ++;}  
				 //if((data[index_row*num_cols +index_col ] == '#'))  {number_seats_occ++;} 
				 if((data[index_row*num_cols  - num_cols -1] == '#')) {number_seats_occ++;}  
				 if((data[index_row*num_cols  - num_cols ] == '#'))  {number_seats_occ++;} 
			}
			else {
				 if((data[index_row*num_cols + index_col  - 1] == '#') ) {number_seats_occ++;}  
				 //if((data[index_row*num_cols + index_col ] == '#'))  {number_seats_occ++;} 
				 if((data[index_row*num_cols + index_col  + 1] == '#'))  {number_seats_occ++;} 
				 if((data[(index_row - 1)*num_cols+ index_col -1] == '#')) {number_seats_occ++;}  
				 if((data[(index_row - 1)*num_cols+ index_col ] == '#'))  {number_seats_occ++;} 
				 if((data[(index_row - 1)*num_cols+ index_col +1] == '#'))  {number_seats_occ++;} 
			}
		}
		else if (index_col == 0) {
				 //if((data[index_row*num_cols + index_col  - 1] == '#') ) {number_seats_occ++;}  
				 //if((data[index_row*num_cols + index_col ] == '#'))  {number_seats_occ++;} 
				 if((data[index_row*num_cols + index_col  + 1] == '#'))  {number_seats_occ++;} 
				 if((data[(index_row - 1)*num_cols+ index_col ] == '#')) {number_seats_occ++;}  
				 if((data[(index_row - 1)*num_cols+ index_col  + 1] == '#'))  {number_seats_occ++;} 
				 if((data[(index_row + 1)*num_cols+ index_col + 1] == '#'))  {number_seats_occ++;} 
				 if((data[(index_row + 1)*num_cols+ index_col] == '#'))  {number_seats_occ++;} 
		}
		else if (index_col == num_cols - 1) {
				 if((data[index_row*num_cols + index_col  - 1] == '#') ) {number_seats_occ++;}  
				 //if((data[index_row*num_cols + index_col ] == '#'))  {number_seats_occ++;} 
				 //if((data[index_row*num_cols + index_col  + 1] == '#'))  {number_seats_occ++;} 
				 if((data[(index_row - 1)*num_cols+ index_col  - 1] == '#')) {number_seats_occ++;}  
				 if((data[(index_row - 1)*num_cols+ index_col ] == '#'))  {number_seats_occ++;} 
				 if((data[(index_row + 1)*num_cols+ index_col  - 1] == '#'))  {number_seats_occ++;} 
				 if((data[(index_row + 1)*num_cols+ index_col] == '#'))  {number_seats_occ++;} 
		}
		else {
				 if((data[index_row*num_cols + index_col  - 1] == '#') ) {number_seats_occ++;}  
				 //if((data[index_row*num_cols + index_col ] == '#'))  {number_seats_occ++;} 
				 if((data[index_row*num_cols + index_col  + 1] == '#'))  {number_seats_occ++;} 
				 
				 if((data[(index_row - 1)*num_cols+ index_col -1] == '#')) {number_seats_occ++;}  
				 if((data[(index_row - 1)*num_cols+ index_col ] == '#'))  {number_seats_occ++;} 
				 if((data[(index_row - 1)*num_cols+ index_col +1] == '#'))  {number_seats_occ++;} 
				 if((data[(index_row + 1)*num_cols+ index_col -1] == '#')) {number_seats_occ++;}  
				 if((data[(index_row + 1)*num_cols+ index_col ] == '#'))  {number_seats_occ++;} 
				 if((data[(index_row + 1)*num_cols+ index_col +1] == '#'))  {number_seats_occ++;} 
		}
		return (number_seats_occ >= occ_th) ? 1:0;
	}
	else {
		#if 0
		if((index_row>0) && (index_row < num_rows) && (index_col > 0) &&(index_col < num_cols)) {
			if((data[index_row*num_cols + index_col - 1] == '.')  &&  (data[index_row*num_cols + index_col +1] == '.') && 
				(data[(index_row - 1)*num_cols + index_col - 1] == '.')  && (data[(index_row - 1)*num_cols + index_col ] == '.') &&  (data[(index_row - 1)*num_cols + index_col +1] == '.') && 
				(data[(index_row + 1)*num_cols + index_col - 1] == '.')  && (data[(index_row + 1)*num_cols + index_col ] == '.') &&  (data[(index_row + 1)*num_cols + index_col +1] == '.') ) {
				return 1;
			}
		}
	    #endif 
		
		int found_occ = 0;
		int looked_dir = 0; 
		int looked = 0;
		// -ve x-axis
		for(int i= index_col - 1; i >=0; i--) {
			looked=1;
			if (data[index_row*num_cols + i] =='#' ) {
				found_occ += 1;
				break;
			}
			else if (data[index_row*num_cols + i] =='L' ) {
				break;
			}
		}
		
		if (looked) {looked_dir++;}
		looked = 0;
		//+ve x-axis
		for(int i= index_col +1; i < num_cols; i++) {
			looked=1;
			if (data[index_row*num_cols + i] =='#' ) {
				found_occ += 1;
				break;
			}
			else if (data[index_row*num_cols + i] =='L' ) {
				break;
			}
		}
		
		if (looked) {looked_dir++;}
		looked = 0;
		// +ve y-axis`
		for(int i= index_row - 1; i >=0; i--) {
			looked=1;
			if (data[i*num_cols +index_col] =='#' ) {
				found_occ += 1;
				break;
			}
			else if (data[i*num_cols +index_col]=='L' ) {
				break;
			}
		}
		
		if (looked) {looked_dir++;}
		looked = 0;
		// -ve y-axis
		for(int i= index_row +1; i < num_rows; i++) {
			looked=1;
			if (data[i*num_cols +index_col] =='#' ) {
				found_occ += 1;
				break;
			}
			else if (data[i*num_cols +index_col]=='L' ) {
				break;
			}
		}
		if (looked) {looked_dir++;}


///     +ve y-axis, -ve x-axis
        looked = 0;
		for(int i = 1 ; i < num_rows ; i++) {
			    if (((index_row - i) >= 0) && (index_col - i) >=0) {
					if (data[(index_row -i)*num_cols + index_col - i] =='#' ) {
						found_occ += 1;
						break;
					}
					else if (data[(index_row -i)*num_cols + index_col - i] =='L' ) {
						break;
					}
				}
				else{ break;}
		}
		if (looked) {looked_dir++;}

		
		// +ve y-axis +ve x-axis
		 looked = 0;
		for(int i = 1 ; i < num_rows ; i++) {
			    if (((index_row - i) >= 0) && (index_col + i) < num_cols) {
					if (data[(index_row -i)*num_cols + index_col +i] =='#' ) {
						found_occ += 1;
						break;
					}
					else if (data[(index_row -i)*num_cols + index_col +i]  =='L' ) {
						break;
					}
				}
				else{ break;}
		}
		if (looked) {looked_dir++;}

		
		// -ve y-axis -ve x-axis
		 looked = 0;
		for(int i = 1 ; i < num_rows ; i++) {
			    if (((index_row + i) < num_rows) && (index_col - i) >=0) {
					if (data[(index_row +i)*num_cols + index_col -i] =='#' ) {
						found_occ += 1;
						break;
					}
					else if (data[(index_row +i)*num_cols + index_col -i]   =='L' ) {
						break;
					}
				}
				else{ break;}
		}
		if (looked) {looked_dir++;}

		
		// -ve y-axis +ve x-axis
		 looked = 0;
		for(int i = 1 ; i < num_rows ; i++) {
			    if (((index_row + i) < num_rows) && (index_col + i) < num_cols) {
					if (data[(index_row +i)*num_cols + index_col +i] =='#' ) {
						found_occ += 1;
						break;
					}
					else if (data[(index_row +i)*num_cols + index_col +i]  =='L' ) {
						break;
					}
				}
				else{ break;}
		}
		if (looked) {looked_dir++;}
	
		if (found_occ >= occ_th) {
			return 1;
		}
		else {
			return 0;
		}
	}
}


int fill_the_seats(char *data, int num_rows, int num_cols, int part2)
{
	int changes = 0;
	char temp[SAMPLE_R][SAMPLE_C]; 
	memcpy(temp, data, num_rows*num_cols);
	
	for (size_t i = 0; i < num_rows; i++) {
		for (size_t j = 0; j < num_cols; j++) {
			if ((data[i*num_cols + j] =='L') && adjacent_seat_empty((char*)temp, i , j, num_rows, num_cols, part2)) {
				//if ((data[i*num_cols + j] !='.') && (data[i*num_cols + j] !='#')) {
					data[i*num_cols + j] = '#';
					changes++;
				//}

			}
		}
	}
	return changes;
}
void print_present_status(char *data, int num_rows, int num_cols) 
{
	printf("\n");
	for (size_t i = 0; i < num_rows; i++) {
		for (size_t j = 0; j < num_cols; j++) {
			printf("%c", data[i*num_cols + j]);
		}
		printf("\n");
	}
}

int vacate_the_seats(char *data, int num_rows, int num_cols, int occ_th) 
{
	int changes = 0;
	char temp[SAMPLE_R][SAMPLE_C]; 
	memcpy(temp, data, num_rows*num_cols);
	
	for (size_t i = 0; i < num_rows; i++) {
		for (size_t j = 0; j < num_cols; j++) {
			if ((data[i*num_cols + j] =='#') && adjacent_seat_more_nonempty((char*)temp, i , j, num_rows, num_cols, occ_th)) {
				//if ((data[i*num_cols + j] !='.') && (data[i*num_cols + j] !='L') ) {
					data[i*num_cols + j] = 'L';
					changes++;
				//}

			}
		}
	}
	return changes;
}

int counts_the_seats(char *data, int num_rows, int num_cols) 
{
	int occ_seats = 0;
	for (size_t i = 0; i < num_rows; i++) {
		for (size_t j = 0; j < num_cols; j++) {
			if (data[i*num_cols + j] =='#') {
				data[i*num_cols + j] = 'L';
				occ_seats++;
			}
		}
	}
	return occ_seats;
}



int count_seats(char *data, int num_rows, int num_cols) 
{
	int changes = 0;
    int i =0;
	do {
	//print_present_status(data, num_rows, num_cols);
	changes = fill_the_seats(data, num_rows, num_cols, 0);
	//print_present_status(data, num_rows, num_cols);
	changes += vacate_the_seats(data, num_rows, num_cols, 4);
	i++;
	}while((changes !=0) && (i<2000));
	printf("%d, changes %u", i, changes);
	return counts_the_seats(data, num_rows, num_cols);
}


int count_seats_change_rule(char *data, int num_rows, int num_cols) 
{
	int changes = 0;
    int i =0;
	do {
	print_present_status(data, num_rows, num_cols);
	changes = fill_the_seats(data, num_rows, num_cols, 1);
	print_present_status(data, num_rows, num_cols);
	changes += vacate_the_seats(data, num_rows, num_cols, 5);
	i++;
	}while((changes !=0) && (i<2000));
	printf("%d, changes %u", i, changes);
	return counts_the_seats(data, num_rows, num_cols);
}




int main(void) 
{
	
	printf(" Sum %u\n", count_seats((char*)test, TEST_R, TEST_C));
    printf(" Sum %u\n", count_seats((char*)sample, SAMPLE_R, SAMPLE_C));
	
    printf(" Sum %u\n", count_seats_change_rule((char*)test, TEST_R, TEST_C));
	printf("Sum %u\n", count_seats_change_rule((char*)sample,  SAMPLE_R, SAMPLE_C));
	return 0;
}