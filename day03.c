#include<stdio.h>
char sample[323][31] = {".........#..##.##..............",
"#...#.#..#.....................",
".#...#..#...................#..",
"........##..#...#..............",
".#.#.....#..#..##......#.......",
"....#..#...#..##........#..##..",
"...#....##........#.......#.#..",
"....#................#...###..#",
"...#...#.#..#....#.......####.#",
".....#...#..........#...#..#.#.",
"....#..#............#.#.#.#..#.",
"..#....#.###..#............#...",
".....#.............#.#.........",
".#.##............##.........#..",
"...##...#..#....#.##..#.....#..",
"..............#.#.........#.##.",
"...........#.....##....##......",
".......#............#...#......",
"............#.#....#....#..#..#",
"....#................####......",
"...#.........................##",
"..........#........#.#.........",
"....#.#....#...........#......#",
"..#.#..##......##..##..#..#.#..",
"...#.....##......#.#.#.........",
".........#.#....#...#.#.#......",
".......#.......###.#.......#...",
"..#............##..#.......#...",
"...#....#......#...#...#...#...",
"......#..#.#.....##......#.....",
"...........##...##...#....#.##.",
"#.##..#.....##..#.#............",
".#.#.....##......#.##........#.",
"..#...#...#...#..........#...##",
"...##.........................#",
".....#......#.....##....#.....#",
"..#........#...................",
"#......#..#.#..#..#.#..#...#...",
"...............#..........#....",
".....#...........#......#....#.",
"........#..#...............#...",
".........#...#.......#.#..#...#",
"..#..#......#.##..........#....",
".#...#....#.....#.............#",
".##.....#.........#......#..#..",
"........#..##.......#......#...",
".......#.....###......#..#.....",
".......#.#.......#.............",
"...#................##.#.......",
"..##..#...#.#...#.#..#.#.#.##..",
".......#.#............#...#....",
"#...#.....#......#..........##.",
".#.......#......#.......#.#.#..",
".#.##.#.#...........#..........",
".......#.....#....#.#.##......#",
".###..#...#.............##.....",
"......#......#.................",
"##...#.#...##...#.#.....#....#.",
"#.............#....##...#....#.",
"#.#...#....#........#.###..##..",
"......#.........#......#.#.#.#.",
"..#.#.#.....#........#..#...#..",
"#.##....#.#......#...........#.",
".#.#.####.........#..#.##....##",
"......##...............#......#",
".......#.........#........#.#..",
"....#....#..#.##.........#..#..",
".#..........#.##....#.#..#.....",
"#..#.#............#..#....#.#.#",
"..................#..#.........",
"##..##.#....#.................#",
"..................#........#..#",
".....#.........#.......##......",
".....................#.#..#...#",
".....#.........#..........#.#..",
"...#.#..#..#.#.#.......#.......",
".....#.....#.#.........#.....##",
".............##....#....##.#...",
".#......#........##..#...###...",
"........#.......##.##.#......#.",
"..#....................#.##..#.",
"......#.......#..#....##.#.....",
"...#....#.......##...#.......#.",
".#.#..#.#..........##..........",
"....#.......##...........#.....",
"###....#.......#..#...#.....##.",
"...#......#.........#..#.#..#.#",
"#.........#..##.#..............",
".#.....#..##.#..#..###.....##.#",
"..........#..#....##.......#...",
".#..#.#...#...##.#..#.##.#.....",
"#....#...#........#......##....",
"..#.####....#.#........#....#..",
"#......#............#.#........",
"...#..#.......##...........#...",
".........#..#.#..#.###.#...#..#",
"..#....##.......#.............#",
"............#..#......#........",
"........#......#..............#",
"..#.#.#...........#............",
"...........#......##.#.#.......",
".#..........#...........#..#...",
".....#...#..#.........##...#...",
".......#....##....#.#.........#",
"..#.#......#.......#...##.#....",
".....#..........#........#.....",
"#.......#.......#............#.",
"..##.#.....#.##.#.#.#..#.......",
"..#...#.......#.###............",
".#...#..#....#...#...#..#....##",
".....#.....#...................",
".......................#......#",
"......#...##.........#...#..#..",
".....#..#.....#..............#.",
".#.##..#..#....................",
"....#..#...#....#.............#",
"..###..#...#......#.....#......",
"..#......###....#.....#.....###",
"...#.##..#...#.....#........#..",
".#.#...........##....#...#.##..",
".......#...##......#..#..#.....",
"#.............#..#...##.#..#..#",
"..........#......#.......#.....",
"...............#.#.#....#...#..",
"#.......#.#..#.....#........#..",
".#.#.#.......#..#.........##...",
"......#.....#.#....#...........",
"..#.....##.#........##.#......#",
"...###...#..#.........#........",
"....#...................#..#...",
".##........#...................",
"....#..#...........#.#.........",
".....#.......#...#....#.#......",
".........#...#.......#.#...#...",
".......#.#..#....#....#.......#",
"..#.............#..............",
".#...#..#.#.#..#............#..",
"...#.##.##..#..#...........##..",
"...........#...#..#.#........#.",
"....#...#.....#...#.#....#...#.",
".......#.#...##..#.............",
".......................#....#..",
"..#..#.....#...........#....#..",
".#..#...#.##........##....#....",
"#.....##.#.#.......#.....#...#.",
".#....#.......................#",
"#..##..###...#.........#.......",
"..##...#...#..........#....#...",
"......#..##......##.#.........#",
"................#........#..#..",
".....#.#..#.....#.......#..#...",
"..#..#.....#.......#..#..#...#.",
".#....#...#...#......##.....#..",
"....#........#...#......##....#",
"..#..........##......#......#..",
"#.#.....#.....#.......#........",
"...#...#......#....##.#..#...##",
"...#....#...#.#...........##...",
"#....##...#...#....#...........",
"...#.#..#...#..............##..",
"#..#..........##.#.#.....#.....",
"..#...#.........#.#..........#.",
"....#.....#..........#.........",
"........................#......",
".#.....#.#...###...#....#......",
"....##....#....#..#.##........#",
"..#........#.........#.......#.",
".....#.#......#...#...#........",
"........#..#.....#....###....#.",
"...........#..#.#....#.#....##.",
".......#.....##.#............#.",
"...............#........##.##..",
".............#...##......#...#.",
"#...##.#.......#......###.....#",
"..........#...#........#..#....",
"....#....................#...#.",
".#......#...#.......#....#.#...",
"....#.......................#..",
"#...#...#...#.##....##.........",
"..........#.#...##.#...#.......",
"..#...............#....#..#...#",
"#..#..#...#..#.........#...#...",
".....#..#..........#.##.#..##..",
"........#......##.....#........",
".#....#.#.........#...#..#.#...",
"....#..............##..........",
"#...............#..............",
"..###.........#....##.........#",
".........#.#....##........#...#",
"....#.#..#......#...#..........",
"...#.#.....#....#..#....#.#..#.",
"............#..#.....#...##....",
"...........#....#.#.#...#......",
"#...............#....###.......",
".........#.....##.#..#..#......",
"...#...##...###...............#",
".#......#.#.#.................#",
".........##..#............#....",
"..#..#.....#.....#.#...........",
".#......##............#.#....#.",
".#.##..##.##..#.........#.....#",
"...##.##......##.##......#.....",
"##.....#.#...#...#...#..#......",
"....................#......#...",
".....#.................#...###.",
"...........#..#.........#.#....",
"...#........#..#........#....#.",
"#................#......###...#",
".............##.#.....#.#......",
"...#...#.##..#........##.......",
"#..#.##...#....#.#.............",
".#.........#.#..#...........#..",
"....#...#.....#.#..........#...",
".#.#....###.......##.....#.##..",
".##....##......#......#.#....#.",
"..#...#.#........#...#..##.....",
"..............###..........##..",
"#....#..##.....#.....#.....#...",
"...#...#....................#..",
".#....#.#.....#.#..#..##.......",
"#...##..###......#.............",
"..........#.#....##.#........##",
"..#..#.....#...#....#.#.#......",
"#.....#........#..##.#.........",
"....#.....#..........##......#.",
"......#..#.....#........#.....#",
".....#..#....#...........#.##..",
".#....................#....#..#",
"........#..#...........#.......",
"#....#.#.......#........#.#..#.",
"........#.....#...#............",
"..#........#........#....#...#.",
".....##.......#..#..........#..",
"......#.#......###...#....##..#",
".#..#.............#.#..........",
"#.....##.#.#.#.#.#.....#.....#.",
".#..#.....#.......#.#.....#....",
"###....##...#.#...#..#......###",
".#................#.....#.##...",
"....##....#.#........###.#.#...",
"#.#....#........#.....#.......#",
"..........#..........#.##...#..",
"....#....#..##......#..#.......",
".....#..........#.##...........",
"##......#.#......#.##..........",
"##..........##.......##........",
"..#.....#....#.##..#..#..#.....",
"......###...#...........#...###",
"#..#.............##............",
"...#.###.....#..#.........#.#..",
"......#...............#...#.#..",
".....#...##.#...#.....#.#..#...",
"..#..#.#....#.#................",
"...............##.....#........",
"......#.#.....#...#.........#..",
"........#..#...#.#...#......#..",
"#...........#.......#...##...#.",
"........#.#...#..##..#.#...#...",
"..#....#...#......#..........##",
"..#..............##...##.#.....",
"...#....#..#....##.........#.#.",
".#.#....#..........#.......#...",
"...##....#.#....#....#.#...#...",
"..............#..##........#..#",
"..........#.#...##......#..#.#.",
"#...##..#......................",
".......#........##.#.#.#.......",
".........##..#.#.......####....",
"..#.............#..#........##.",
"##..#..#...#....#.....#...#..#.",
"..#.#...#.#.....#..............",
"..#....#....#..##...#.#........",
"##.....#..#...#................",
"#....#.....................#...",
"..............###.....#.#.#....",
"..#......##.#....#.#...##......",
"#...#.#......#...#.#......#....",
"....#...................##.#...",
".........##......#.....#.####..",
"##..#........#.....#......##..#",
"...#..#...#...#.............#..",
"#..#..#.#......###...#.........",
".......#.#..#........#....##..#",
"............#..##.....#.#.#....",
"#..#.....#.....#....##........#",
"......#..........##............",
".....#...#...........#.........",
"...........#....#...#....#.#...",
"....#.........##.##.......#....",
"......#....#...........#.##...#",
".##.#.#..##...#.....##.#...#...",
".......#.#....#...#...#....#...",
".#...##.#.#.....#..#....#......",
".#....###..#.......#......#...#",
"..#.#.........#.........#.....#",
".......#.#.##..#.#.......##..#.",
".##............#.........#....#",
".#...##.###..#........##.#..#..",
"..#........#.#.....##..##.#....",
"...........#...........#.....#.",
".#...######..##...#.....#......",
".#.##.#.......#......#......#..",
".#.....#.....#........#........",
"...#..#...#.##...#...........#.",
".......#.....#.......#.........",
"............#...###...........#",
"...#.......#.......##....#..#..",
"##.......#....#....####........",
".......#.#......#..........#..#",
"#.....##..#..#.....#....#...#..",
"#............#........##.......",
".#.#...#.............#..##.....",
".#....#..#.#......#.##.......##",
"...................##...##..###",
"..#.....#...#................#.",
"..#...#....#...#.#.#...#.....#.",
".....#............#....#...#..#",
".#.....#....#..#......#.#.....#",
"............#.#.....####.##....",
"....#......###....#...#....#...",
"#.....#..#.....#..#...#.......#",
"..#.#...#....#....##..#...##...",
".##..#..#..##....##...#........"};

char test[11][11] ={"..##.......",
"#...#...#..",
".#....#..#.",
"..#.#...#.#",
".#...##..#.",
"..#.##.....",
".#.#.#....#",
".#........#",
"#.##...#...",
"#...##....#",
".#..#...#.#"};


int n_trees(char *data, int rows, int column, int right_move, int down_move)
{
	int trees = 0;
	int right = 0;
	for(size_t i=down_move; i<rows; i= i + down_move) {
		right += right_move;
		//char *temp_row_ptr = (sample + i*rows) ;
		//char *temp_column_ptr =
		char temp = *((data + i*column) + right % column);
		if( temp == '#') {trees++;}
	}
	printf ("trees %u, right = %u down = %u\n", trees, right_move,down_move);
	return trees;
}
int main(void)
{

printf("product %u\n", n_trees((char*)test, 11,11,1,1)*n_trees((char*)test, 11,11,3,1)*n_trees((char*)test, 11,11,5,1)*n_trees((char*)test, 11,11,7,1)*n_trees((char*)test, 11,11,1,2));
printf("product %u\n", n_trees((char*)sample, 323,31,1,1)*n_trees((char*)sample, 323,31,3,1)*n_trees((char*)sample, 323,31,5,1)*n_trees((char*)sample, 323,31,7,1)*n_trees((char*)sample, 323,31,1,2));
	//3093068400
return 0;
}
